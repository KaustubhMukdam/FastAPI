{% extends "base.html" %}

{% block title %}{{ title }} - VideoStream{% endblock %}

{% block content %}
<div class="watch-container">
    <div class="video-player-wrapper">
        <video controls class="video-player" autoplay>
            <source src="/videos/{{ video_name }}" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <div class="video-details">
        <h1 class="watch-title">{{ title }}</h1>
        <div class="video-actions">
            <a href="/" class="action-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
                Back to Home
            </a>
        </div>
    </div>

    <div class="video-description">
        <h3>About this video</h3>
        <p>Video: {{ video_name }}</p>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const video = document.querySelector('.video-player');
        
        // Add keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;
            
            switch(e.key) {
                case ' ':
                    e.preventDefault();
                    video.paused ? video.play() : video.pause();
                    break;
                case 'ArrowLeft':
                    e.preventDefault();
                    video.currentTime -= 5;
                    break;
                case 'ArrowRight':
                    e.preventDefault();
                    video.currentTime += 5;
                    break;
                case 'f':
                    if (document.fullscreenElement) {
                        document.exitFullscreen();
                    } else {
                        video.requestFullscreen();
                    }
                    break;
            }
        });
    });
</script>
{% endblock %}