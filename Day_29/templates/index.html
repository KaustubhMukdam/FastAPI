{% extends "base.html" %}

{% block title %}Home - VideoStream{% endblock %}

{% block content %}
<div class="container">
    <div class="page-header">
        <h1 class="page-title">Explore Videos</h1>
        <p class="page-subtitle">Discover and watch your favorite content</p>
    </div>

    {% if videos %}
    <div class="video-grid">
        {% for video in videos %}
        <a href="/watch/{{ video.name }}" class="video-card">
            <div class="video-thumbnail">
                <svg class="thumbnail-placeholder" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <rect width="100" height="100" fill="url(#gradient{{ loop.index }})" />
                    <circle cx="50" cy="50" r="15" fill="white" opacity="0.9" />
                    <polygon points="47,42 47,58 58,50" fill="#1a1a1a" />
                    <defs>
                        <linearGradient id="gradient{{ loop.index }}" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:rgb({{ (loop.index * 37) % 255 }},{{ (loop.index * 73) % 255 }},{{ (loop.index * 109) % 255 }});stop-opacity:1" />
                            <stop offset="100%" style="stop-color:rgb({{ (loop.index * 109) % 255 }},{{ (loop.index * 37) % 255 }},{{ (loop.index * 73) % 255 }});stop-opacity:1" />
                        </linearGradient>
                    </defs>
                </svg>
                <div class="play-overlay">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <polygon points="10 8 16 12 10 16 10 8" fill="currentColor"/>
                    </svg>
                </div>
            </div>
            <div class="video-info">
                <h3 class="video-title">{{ video.name.rsplit('.', 1)[0].replace('_', ' ') }}</h3>
                <p class="video-meta">
                    <span class="meta-item">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12 6 12 12 16 14"/>
                        </svg>
                        {% if video.created_at %}
                            {{ video.created_at[:10] }}
                        {% else %}
                            Recently added
                        {% endif %}
                    </span>
                </p>
            </div>
        </a>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
        <svg width="120" height="120" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <rect x="2" y="7" width="20" height="15" rx="2" ry="2"/>
            <polyline points="17 2 12 7 7 2"/>
        </svg>
        <h2>No videos yet</h2>
        <p>Start by uploading your first video</p>
        <a href="/upload" class="primary-btn">Upload Video</a>
    </div>
    {% endif %}
</div>
{% endblock %}